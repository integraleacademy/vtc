{% extends "base.html" %}
{% block title %}Admin - Inscriptions VTC{% endblock %}
{% block content %}

<h2 style="margin-bottom:25px;font-weight:700;color:#2b2b2b;font-size:26px;">
    Administration â€“ Inscriptions Chauffeur VTC
</h2>

<table style="width:100%; border-collapse:separate; border-spacing:0 8px; font-family:'Inter', sans-serif;">
    <tr style="background:#F4C45A; color:#000; font-weight:600;">
        <th style="padding:12px; text-align:left;">Nom</th>
        <th style="padding:12px; text-align:left;">PrÃ©nom</th>
        <th style="padding:12px; text-align:left;">Identifiant</th>
        <th style="padding:12px; text-align:left;">Mot de passe</th>
        <th style="padding:12px; text-align:left;">Statut</th>
        <th style="padding:12px; text-align:left;">Commentaires</th>
        <th style="padding:12px; text-align:left;">Actions</th>
    </tr>

    {% for inscrit in inscrits %}
    <tr style="background:white; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.06);">

        <form method="POST">

            <td style="padding:12px 16px;">{{ inscrit.nom }}</td>
            <td style="padding:12px 16px;">{{ inscrit.prenom }}</td>
            <td style="padding:12px 16px;">{{ inscrit.identifiant }}</td>
            <td style="padding:12px 16px;">{{ inscrit.motdepasse }}</td>

            <!-- STATUT AVEC TOGGLE BUTTON -->
            <td style="padding:12px 16px;">
                <input type="hidden" name="index" value="{{ loop.index0 }}">

                {% if inscrit.statut == "INSCRIT A L'EXAMEN" %}
                    <button type="submit" name="action" value="toggle"
                        style="background:#27ae60;color:white;font-weight:600;
                               padding:6px 14px;border-radius:8px;border:none;cursor:pointer;">
                        âœ” Inscrit Ã  lâ€™examen
                    </button>
                {% else %}
                    <button type="submit" name="action" value="toggle"
                        style="background:#e74c3c;color:white;font-weight:600;
                               padding:6px 14px;border-radius:8px;border:none;cursor:pointer;">
                        âš  A inscrire
                    </button>
                {% endif %}
            </td>

            <!-- COMMENTAIRE -->
            <td style="padding:12px 16px;">
                <input type="text" name="commentaire" value="{{ inscrit.commentaire }}"
                    placeholder="Ajouter un commentaire"
                    style="width:100%; padding:8px; border-radius:8px; border:1px solid #ddd;">
            </td>

            <!-- ACTIONS -->
            <td style="padding:12px 16px; min-width:160px;">
                <button type="submit" name="action" value="save"
                    style="
                        background:#27ae60;
                        color:white;
                        border:none;
                        padding:8px 14px;
                        border-radius:8px;
                        cursor:pointer;
                        font-size:14px;
                        font-weight:600;
                        margin-right:6px;">
                    ğŸ’¾ Enregistrer
                </button>

                <button type="submit" name="action" value="delete"
                    style="
                        background:#e74c3c;
                        color:white;
                        border:none;
                        padding:8px 14px;
                        border-radius:8px;
                        cursor:pointer;
                        font-size:14px;
                        font-weight:600;">
                    ğŸ—‘ï¸ Supprimer
                </button>
            </td>

        </form>

    </tr>
    {% endfor %}
</table>

{% endblock %}
