{% extends "base.html" %}
{% block title %}Admin - Inscriptions VTC{% endblock %}
{% block content %}

<h2 style="margin-bottom:25px;font-weight:700;color:#2b2b2b;font-size:26px;">
    Administration ‚Äì Inscriptions Chauffeur VTC
</h2>

<table style="width:100%; border-collapse:separate; border-spacing:0 8px; font-family:'Inter', sans-serif;">
    <tr style="background:#F4C45A; color:#000; font-weight:600;">
        <th style="padding:12px; text-align:left;">Nom</th>
        <th style="padding:12px; text-align:left;">Pr√©nom</th>
        <th style="padding:12px; text-align:left;">Identifiant</th>
        <th style="padding:12px; text-align:left;">Mot de passe</th>
        <th style="padding:12px; text-align:left;">Statut</th>
        <th style="padding:12px; text-align:left;">Commentaires</th>
        <th style="padding:12px; text-align:left;">Actions</th>
    </tr>

    {% for inscrit in inscrits %}
    <tr style="background:white; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.06);">
        <form method="POST">
            <td style="padding:12px 16px;">{{ inscrit.nom }}</td>
            <td style="padding:12px 16px;">{{ inscrit.prenom }}</td>
            <td style="padding:12px 16px;">{{ inscrit.identifiant }}</td>
            <td style="padding:12px 16px;">{{ inscrit.motdepasse }}</td>

            <!-- STATUT -->
            <td style="padding:12px 16px;">

                {% if inscrit.statut == "INSCRIT A L'EXAMEN" %}
                    <span style="
                        background:#27ae60;
                        color:white;
                        padding:6px 12px;
                        border-radius:8px;
                        font-size:13px;
                        font-weight:600;
                        display:inline-block;
                        margin-bottom:6px;">
                        ‚úî Inscrit √† l‚Äôexamen
                    </span>
                {% else %}
                    <span style="
                        background:#e74c3c;
                        color:white;
                        padding:6px 12px;
                        border-radius:8px;
                        font-size:13px;
                        font-weight:600;
                        display:inline-block;
                        margin-bottom:6px;">
                        ‚ö† √Ä inscrire
                    </span>
                {% endif %}

                <!-- SELECT : juste les statuts simples, pas de doublon -->
                <select name="statut"
                    style="padding:8px; border-radius:8px; border:1px solid #ccc; width:100%; margin-top:6px; font-size:14px;">
                    
                    <option value="A INSCRIRE A L'EXAMEN"
                        {% if inscrit.statut == "A INSCRIRE A L'EXAMEN" %}selected{% endif %}>
                        A INSCRIRE A L'EXAMEN
                    </option>
                    
                    <option value="INSCRIT A L'EXAMEN"
                        {% if inscrit.statut == "INSCRIT A L'EXAMEN" %}selected{% endif %}>
                        INSCRIT A L'EXAMEN
                    </option>

                </select>
            </td>

            <!-- COMMENTAIRE -->
            <td style="padding:12px 16px;">
                <input type="text" name="commentaire" value="{{ inscrit.commentaire }}"
                    placeholder="Ajouter un commentaire"
                    style="width:100%; padding:8px; border-radius:8px; border:1px solid #ddd;">
            </td>

            <!-- ACTIONS -->
            <td style="padding:12px 16px; min-width:160px;">
                <input type="hidden" name="index" value="{{ loop.index0 }}">

                <button type="submit" name="action" value="save"
                    style="
                        background:#27ae60;
                        color:white;
                        border:none;
                        padding:8px 14px;
                        border-radius:8px;
                        cursor:pointer;
                        font-size:14px;
                        font-weight:600;
                        margin-right:6px;">
                    üíæ Enregistrer
                </button>

                <button type="submit" name="action" value="delete"
                    style="
                        background:#e74c3c;
                        color:white;
                        border:none;
                        padding:8px 14px;
                        border-radius:8px;
                        cursor:pointer;
                        font-size:14px;
                        font-weight:600;">
                    üóëÔ∏è Supprimer
                </button>
            </td>
        </form>
    </tr>
    {% endfor %}
</table>

{% endblock %}
